<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__2ef5f8b020723300518d3db009b6514e">6af5f8b0db723300ad0ef2823996194f</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"d3f4994ec76f42a7a6d6b1bf129bd1fd","triggerType":"request","id":"d3f4994ec76f42a7a6d6b1bf129bd1fd"}],"goals":[{"name":"primary","trigger_id":"d3f4994ec76f42a7a6d6b1bf129bd1fd","nodes":[{"type":"StartGoal","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"5c949c448d2340fea1c5e32bc80ad8d4","name":"Start"},{"type":"TerminateGoal","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"3301f70705e544f8aa2ae3844ad06ee6","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"c12506f205f941adb289a6bfac5febb0","name":"NeedIt Type","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","variable_id":"184472806d534bf89fbb49156a7ee0b4","message":{"type":"String","mode":"string","value":"What type of NeedIt record would you like to view?"},"optional":false},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"You selected:Â {{vaInputs.needit_type}}"},"id":"6d00c1d372ba4d6aa8ce5b7f65f1b271","name":"Confirm NeedIt Type","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run \n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n    */\n    return 'you selected: ' + vaInputs.needit_type.getDisplayValue();\n})()\n"}},{"type":"ReferenceChoiceInputPrompt","mode":"glide_record","id":"25cf925f8fc9431c86032fedb85d77e4","name":"NeedIt List","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","applicability":{"type":"Applicability","mode":"script","value":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number and short_description for the\n\t    // NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \": \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)\n"},"variable_id":"a98f43a57cad4a5887432869004bd65c","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"expression_mode":"simple","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_query","value":"active=true^u_request_type={{vaInputs.needit_type}}^u_requested_for={{vaInputs.user}}"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"a98f43a57cad4a5887432869004bd65c","fields":["priority","short_description","u_when_needed"],"id":"a75c2511935744818159def5e832df76","name":"NeedIt Card","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"InputPrompt","variable_id":"029d900820b5439d800196700f572f82","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"optional":false,"id":"6f74688b57854b2abdc6c6eba969e3f0","name":"Search Again","goal_id":"6ef3c79aecd4454dacf1518a6afcada6"},{"type":"Decision","name":"DecisionFind more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"078a7c72be06461488610bcb6a8a2975","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"cc1ae8c8610244d0976f943e38a4b4f9","name":"Yes"}],"id":"91087ea1fc2a46729c7104f206037307","goal_id":"6ef3c79aecd4454dacf1518a6afcada6"},{"type":"InputPrompt","variable_id":"ba121158419d4219ab0de9d858b701f7","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"optional":false,"id":"2c66501d76714f0d974a47e4fbdf7321","name":"New When Needed Date","goal_id":"6ef3c79aecd4454dacf1518a6afcada6"},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"a98f43a57cad4a5887432869004bd65c","id":"9b8048824cc845bd84671a1ddb7b9293","name":"Change When Needed Date","goal_id":"6ef3c79aecd4454dacf1518a6afcada6"},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"a98f43a57cad4a5887432869004bd65c","fields":["priority","short_description","u_when_needed"],"id":"6bea8ccb70b7402d9cfa9c2b09a4af2b","name":"updated NeedIt Card","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"c6e34f46a32444aeae60b8fde9cd9faa","name":"what to update","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","variable_id":"e141e4939a07415786e7414735a0026c","message":{"type":"String","mode":"string","value":"what dou you want update?"},"optional":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"when needed","expression":{"type":"Applicability","mode":"query","value":"what_to_update=0"},"id":"ab0fceed3e8442db8512ff1e54421934","name":"when needed"},{"type":"Branch","label":"short description","expression":{"type":"Applicability","mode":"query","value":"what_to_update=1"},"id":"098860440ad545ba8984b58cb9f313cd","name":"short description"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":""},"id":"da63c19d629246848a9d5f39825a9ca5","name":"Nothing"}],"id":"51513584b2a84f70a4d065b667dd4a7d","goal_id":"6ef3c79aecd4454dacf1518a6afcada6"},{"type":"InputPrompt","variable_id":"c1e31f91d3fe4f2eaba7c8c9074a8d20","message":{"type":"String","mode":"string","value":"what will be the new short description"},"optional":false,"id":"6a5cfc3e6ec4459e8c0be52267fa8d7b","name":"new short description","goal_id":"6ef3c79aecd4454dacf1518a6afcada6"},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs}}{{vaInputs.new_short_description}}","variable_id":"a98f43a57cad4a5887432869004bd65c","id":"381e4968f357401bb1f0cba831c98e80","name":"change short description","goal_id":"6ef3c79aecd4454dacf1518a6afcada6","applicability":{"type":"Applicability","mode":"query","value":"new_short_description={{vaInputs.new_short_description}}"}}],"edges":[{"type":"Edge","source_node_id":"6bea8ccb70b7402d9cfa9c2b09a4af2b","target_node_id":"6f74688b57854b2abdc6c6eba969e3f0","id":"768c4b6d794547f39673f239e2744857"},{"type":"Edge","source_node_id":"6f74688b57854b2abdc6c6eba969e3f0","target_node_id":"91087ea1fc2a46729c7104f206037307","id":"2f34fa6f9c9844aa99b196a6d44231be"},{"type":"Edge","source_node_id":"5c949c448d2340fea1c5e32bc80ad8d4","target_node_id":"c12506f205f941adb289a6bfac5febb0","id":"f1bb7b077f254454a66d72cc079d8361"},{"type":"Edge","source_node_id":"c12506f205f941adb289a6bfac5febb0","target_node_id":"6d00c1d372ba4d6aa8ce5b7f65f1b271","id":"4452c8833eba4dbeb0fe22c0633e1dca"},{"type":"Edge","source_node_id":"6d00c1d372ba4d6aa8ce5b7f65f1b271","target_node_id":"25cf925f8fc9431c86032fedb85d77e4","id":"cdfe00fdfded4fdf89c57621105f46cd"},{"type":"Edge","source_node_id":"25cf925f8fc9431c86032fedb85d77e4","target_node_id":"a75c2511935744818159def5e832df76","id":"70ad4d0687164200834a0e763bb963e1"},{"type":"Edge","source_node_id":"91087ea1fc2a46729c7104f206037307","target_node_id":"3301f70705e544f8aa2ae3844ad06ee6","branch_id":"078a7c72be06461488610bcb6a8a2975","id":"5a59bebaa7344357992cb426aab86dfd","name":"078a7c72be06461488610bcb6a8a2975"},{"type":"Edge","source_node_id":"91087ea1fc2a46729c7104f206037307","target_node_id":"c12506f205f941adb289a6bfac5febb0","branch_id":"cc1ae8c8610244d0976f943e38a4b4f9","id":"4bf69675f4284b5d888b19c7ca1d00df","name":"cc1ae8c8610244d0976f943e38a4b4f9"},{"type":"Edge","source_node_id":"2c66501d76714f0d974a47e4fbdf7321","target_node_id":"9b8048824cc845bd84671a1ddb7b9293","id":"826e9150bee748ba9b724c1353ff98d4"},{"type":"Edge","source_node_id":"9b8048824cc845bd84671a1ddb7b9293","target_node_id":"6bea8ccb70b7402d9cfa9c2b09a4af2b","id":"1539b011aed04cf29124eca4ad32779f"},{"type":"Edge","source_node_id":"a75c2511935744818159def5e832df76","target_node_id":"c6e34f46a32444aeae60b8fde9cd9faa","id":"979d5510e5444a1f99837a18e76422ad"},{"type":"Edge","source_node_id":"c6e34f46a32444aeae60b8fde9cd9faa","target_node_id":"51513584b2a84f70a4d065b667dd4a7d","id":"65729fb2b7584738bc5edf75eb322697"},{"type":"Edge","source_node_id":"51513584b2a84f70a4d065b667dd4a7d","target_node_id":"2c66501d76714f0d974a47e4fbdf7321","branch_id":"ab0fceed3e8442db8512ff1e54421934","id":"7a452889d99f4e58b905443578f026f1","name":"ab0fceed3e8442db8512ff1e54421934"},{"type":"Edge","source_node_id":"51513584b2a84f70a4d065b667dd4a7d","target_node_id":"6a5cfc3e6ec4459e8c0be52267fa8d7b","branch_id":"098860440ad545ba8984b58cb9f313cd","id":"56e62bec36834cb2a4d698856870197c","name":"098860440ad545ba8984b58cb9f313cd"},{"type":"Edge","source_node_id":"6a5cfc3e6ec4459e8c0be52267fa8d7b","target_node_id":"381e4968f357401bb1f0cba831c98e80","id":"8158783f871346ff8cf12d841ed65693"},{"type":"Edge","source_node_id":"381e4968f357401bb1f0cba831c98e80","target_node_id":"6bea8ccb70b7402d9cfa9c2b09a4af2b","id":"e1172c443fbc4873bda62f57a67e6af4"},{"type":"Edge","source_node_id":"51513584b2a84f70a4d065b667dd4a7d","target_node_id":"6f74688b57854b2abdc6c6eba969e3f0","branch_id":"da63c19d629246848a9d5f39825a9ca5","id":"237ebc461a8640d394d18242e350c6e9","name":"da63c19d629246848a9d5f39825a9ca5"}],"id":"6ef3c79aecd4454dacf1518a6afcada6"}],"script_variables":[],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resourses","element":"hr"}],"id":"184472806d534bf89fbb49156a7ee0b4","name":"needit_type"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"Reference","table":"x_58872_needit_needit","reference_qualifier_condition":"active=true^u_request_type={{vaInputs.needit_type}}^u_requested_for={{vaInputs.user}}","id":"a98f43a57cad4a5887432869004bd65c","name":"needit_list"},{"type":"True/False","id":"029d900820b5439d800196700f572f82","name":"search_again"},{"type":"Date/Time","mode":"date_time","id":"ba121158419d4219ab0de9d858b701f7","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"a25e67f018ef434c890f02dd1a0d3abc","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"short description","element":"1"},{"name":"When needit date","element":"0"}],"id":"e141e4939a07415786e7414735a0026c","name":"what_to_update"},{"type":"String","name":"new_short_description","id":"c1e31f91d3fe4f2eaba7c8c9074a8d20"},{"type":"Reference","table":"x_58872_needit_needit","id":"89237b88358f47d784ca531198d15006","name":"change_short_description"}],"roles":[],"scope":"4d2708a8dbb23300ad0ef282399619c6","id":"bae7cce8dbb23300ad0ef282399619d0","name":"_PRVW__2ef5f8b020723300518d3db009b6514e","key_phrases":["Update NeedIt Records.","Needit request"]}</design_definition>
        <design_topic_id>bae7cce8dbb23300ad0ef282399619d0</design_topic_id>
        <name>_PRVW__2ef5f8b020723300518d3db009b6514e</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-07-19 19:31:15</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>aef5f8b0db723300ad0ef28239961951</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_371183_needit_vi">4d2708a8dbb23300ad0ef282399619c6</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">4d2708a8dbb23300ad0ef282399619c6</sys_scope>
        <sys_update_name>sys_cb_design_topic_aef5f8b0db723300ad0ef28239961951</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-07-19 19:31:15</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
